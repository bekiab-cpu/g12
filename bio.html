<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ethiopian Grade 11 Biology Practice Exam</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            min-height: 100vh;
            padding: 20px;
            padding-bottom: 60px;
            /* Space for footer */
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .exam-info {
            background: #f8f9fa;
            padding: 20px;
            border-bottom: 2px solid #e9ecef;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            text-align: center;
        }

        .info-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .info-item h3 {
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .timer {
            font-size: 2em;
            font-weight: bold;
            color: #e74c3c;
        }

        .exam-content {
            display: flex;
            min-height: 600px;
        }

        .question-nav {
            width: 250px;
            background: #f8f9fa;
            padding: 20px;
            border-right: 2px solid #e9ecef;
        }

        .nav-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 8px;
            margin-bottom: 20px;
        }

        .nav-btn {
            width: 35px;
            height: 35px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .nav-btn.unanswered {
            background: #e9ecef;
            color: #6c757d;
        }

        .nav-btn.answered {
            background: #28a745;
            color: white;
        }

        .nav-btn.current {
            background: #27ae60;
            color: white;
            transform: scale(1.1);
        }

        .nav-btn.flagged {
            background: #ffc107;
            color: #212529;
        }

        .question-area {
            flex: 1;
            padding: 30px;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e9ecef;
        }

        .question-number {
            font-size: 1.5em;
            font-weight: bold;
            color: #2c3e50;
        }

        .flag-btn {
            background: #ffc107;
            color: #212529;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }

        .question-text {
            font-size: 1.2em;
            line-height: 1.6;
            margin-bottom: 25px;
            color: #2c3e50;
        }

        .biology-term {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            text-align: center;
            border-left: 4px solid #27ae60;
        }

        .options {
            margin: 20px 0;
        }

        .option {
            display: flex;
            align-items: center;
            margin: 15px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }

        .option.selected {
            background: #27ae60;
            color: white;
        }

        .option.correct-answer {
            background: #d4edda !important;
            color: #155724;
            border: 2px solid #28a745;
        }

        .option.wrong-answer {
            background: #f8d7da !important;
            color: #721c24;
            border: 2px solid #dc3545;
        }

        .option.correct-answer:hover {
            background: #d4edda !important;
            transform: none;
        }

        .option.wrong-answer:hover {
            background: #f8d7da !important;
            transform: none;
        }

        .option input[type="radio"] {
            margin-right: 15px;
            transform: scale(1.2);
        }

        .controls {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #e9ecef;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: #27ae60;
            color: white;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .results {
            display: none;
            padding: 30px;
            text-align: center;
        }

        .score-display {
            font-size: 3em;
            font-weight: bold;
            color: #28a745;
            margin: 20px 0;
        }

        .grade {
            font-size: 2em;
            margin: 20px 0;
            padding: 20px;
            border-radius: 10px;
            background: #f8f9fa;
        }

        .start-screen {
            padding: 40px;
            text-align: center;
        }

        .start-btn {
            background: #27ae60;
            color: white;
            padding: 20px 40px;
            font-size: 1.5em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 30px;
        }

        .instructions {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: left;
        }

        .instructions h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .instructions ul {
            margin-left: 20px;
        }

        .instructions li {
            margin: 8px 0;
        }

        .footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 10px;
            font-size: 0.9em;
            z-index: 1000;
        }

        @media (max-width: 768px) {
            .exam-content {
                flex-direction: column;
            }

            .question-nav {
                width: 100%;
                order: 2;
            }

            .nav-grid {
                grid-template-columns: repeat(10, 1fr);
            }

            body {
                padding-bottom: 80px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>🧬 Ethiopian Grade 11 Biology</h1>
            <p>Practice Examination</p>
        </div>

        <div id="startScreen" class="start-screen">
            <h2>Welcome to the Grade 11 Biology Practice Exam</h2>

            <div class="instructions">
                <h3>Instructions:</h3>
                <ul>
                    <li>This exam contains 100 multiple-choice questions</li>
                    <li>Time limit: 3 hours (180 minutes)</li>
                    <li>Each question has 4 options (A, B, C, D)</li>
                    <li>Questions cover all major topics from the Grade 11 Biology curriculum</li>
                    <li>You can navigate between questions using the question grid</li>
                    <li>Flag questions for review if needed</li>
                    <li>Your answers are automatically saved</li>
                    <li>Click "Submit Exam" when you're finished</li>
                </ul>
            </div>
            <button class="start-btn" onclick="startExam()">Start Exam</button>
        </div>

        <div id="examInterface" style="display: none;">
            <div class="exam-info">
                <div class="info-grid">
                    <div class="info-item">
                        <h3>Time Remaining</h3>
                        <div id="timer" class="timer">03:00:00</div>
                    </div>
                    <div class="info-item">
                        <h3>Questions Answered</h3>
                        <div id="answered">0 / 100</div>
                    </div>
                    <div class="info-item">
                        <h3>Current Question</h3>
                        <div id="currentQ">1</div>
                    </div>
                    <div class="info-item">
                        <h3>Flagged Questions</h3>
                        <div id="flagged">0</div>
                    </div>
                </div>
            </div>

            <div class="exam-content">
                <div class="question-nav">
                    <h3>Question Navigation</h3>
                    <div id="navGrid" class="nav-grid"></div>
                    <div style="margin-top: 20px;">
                        <div style="display: flex; align-items: center; margin: 5px 0;">
                            <div class="nav-btn unanswered" style="width: 20px; height: 20px; margin-right: 10px;">
                            </div>
                            <span>Unanswered</span>
                        </div>
                        <div style="display: flex; align-items: center; margin: 5px 0;">
                            <div class="nav-btn answered" style="width: 20px; height: 20px; margin-right: 10px;"></div>
                            <span>Answered</span>
                        </div>
                        <div style="display: flex; align-items: center; margin: 5px 0;">
                            <div class="nav-btn flagged" style="width: 20px; height: 20px; margin-right: 10px;"></div>
                            <span>Flagged</span>
                        </div>
                    </div>
                </div>

                <div class="question-area">
                    <div class="question-header">
                        <div class="question-number" id="questionNumber">Question 1</div>
                        <button class="flag-btn" id="flagBtn" onclick="toggleFlag()">🚩 Flag</button>
                    </div>

                    <div class="question-text" id="questionText"></div>

                    <div class="options" id="options"></div>

                    <div class="controls">
                        <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()">← Previous</button>
                        <button class="btn btn-success" onclick="submitExam()">Submit Exam</button>
                        <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()">Next →</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="results" class="results">
            <h2>Exam Results</h2>
            <div class="score-display" id="scoreDisplay"></div>
            <div class="grade" id="gradeDisplay"></div>
            <button class="btn btn-primary" onclick="reviewAnswers()">Review Answers</button>
            <button class="btn btn-secondary" onclick="restartExam()">Take Again</button>
        </div>
    </div>

    <div class="footer">
        Prepared by Biruk
    </div>

    <script>
        // Exam data and state
        let currentQuestion = 0;
        let answers = {};
        let flaggedQuestions = new Set();
        let timeRemaining = 180 * 60; // 3 hours in seconds
        let timerInterval;
        let examStarted = false;
        let shuffledQuestions = [];

        // Original biology questions array
        const originalQuestions = [
            // Biology and Technology
            {
                question: "Which of the following is an application of biotechnology?",
                options: ["A) Genetic engineering", "B) Fermentation", "C) Tissue culture", "D) All of the above"],
                correct: 3
            },
            {
                question: "The use of living organisms to solve environmental problems is called:",
                options: ["A) Bioremediation", "B) Bioengineering", "C) Biomedicine", "D) Bioinformatics"],
                correct: 0
            },
            {
                question: "PCR (Polymerase Chain Reaction) is used to:",
                options: ["A) Amplify DNA", "B) Cut DNA", "C) Sequence DNA", "D) Destroy DNA"],
                correct: 0
            },
            {
                question: "Which organism is commonly used in genetic engineering?",
                options: ["A) E. coli", "B) Yeast", "C) Agrobacterium", "D) All of the above"],
                correct: 3
            },
            {
                question: "Transgenic organisms are:",
                options: ["A) Organisms with foreign genes", "B) Mutated organisms", "C) Cloned organisms", "D) Hybrid organisms"],
                correct: 0
            },
            {
                question: "The Human Genome Project aimed to:",
                options: ["A) Clone humans", "B) Map all human genes", "C) Create artificial life", "D) Cure all diseases"],
                correct: 1
            },
            {
                question: "Restriction enzymes are used to:",
                options: ["A) Cut DNA at specific sites", "B) Join DNA fragments", "C) Amplify DNA", "D) Sequence DNA"],
                correct: 0
            },
            {
                question: "Gene therapy involves:",
                options: ["A) Removing genes", "B) Adding functional genes", "C) Mutating genes", "D) Cloning genes"],
                correct: 1
            },
            {
                question: "Bioinformatics combines:",
                options: ["A) Biology and chemistry", "B) Biology and physics", "C) Biology and computer science", "D) Biology and mathematics"],
                correct: 2
            },
            {
                question: "Which technique is used to produce insulin artificially?",
                options: ["A) Fermentation", "B) Genetic engineering", "C) Tissue culture", "D) Hybridization"],
                correct: 1
            },

            // Characteristics of Animals
            {
                question: "All animals are:",
                options: ["A) Autotrophic", "B) Heterotrophic", "C) Photosynthetic", "D) Chemosynthetic"],
                correct: 1
            },
            {
                question: "The body cavity in animals is called:",
                options: ["A) Coelom", "B) Blastocoel", "C) Archenteron", "D) Gastrovascular cavity"],
                correct: 0
            },
            {
                question: "Animals with three germ layers are called:",
                options: ["A) Diploblastic", "B) Triploblastic", "C) Monoblastic", "D) Tetrablastic"],
                correct: 1
            },
            {
                question: "Bilateral symmetry is found in:",
                options: ["A) Cnidarians", "B) Sponges", "C) Arthropods", "D) All animals"],
                correct: 2
            },
            {
                question: "The phylum Chordata is characterized by:",
                options: ["A) Notochord", "B) Dorsal nerve cord", "C) Pharyngeal slits", "D) All of the above"],
                correct: 3
            },
            {
                question: "Metamorphosis is complete in:",
                options: ["A) Grasshoppers", "B) Butterflies", "C) Dragonflies", "D) Cockroaches"],
                correct: 1
            },
            {
                question: "Exoskeleton is found in:",
                options: ["A) Vertebrates", "B) Mollusks", "C) Arthropods", "D) Echinoderms"],
                correct: 2
            },
            {
                question: "Cold-blooded animals are called:",
                options: ["A) Homeothermic", "B) Poikilothermic", "C) Endothermic", "D) Warm-blooded"],
                correct: 1
            },
            {
                question: "The largest group of animals belongs to:",
                options: ["A) Mollusca", "B) Chordata", "C) Arthropoda", "D) Cnidaria"],
                correct: 2
            },
            {
                question: "Segmentation is characteristic of:",
                options: ["A) Annelids", "B) Arthropods", "C) Chordates", "D) All of the above"],
                correct: 3
            },
            {
                question: "Animals that can regenerate lost body parts include:",
                options: ["A) Planarians", "B) Starfish", "C) Hydra", "D) All of the above"],
                correct: 3
            },
            {
                question: "The water vascular system is found in:",
                options: ["A) Mollusks", "B) Arthropods", "C) Echinoderms", "D) Annelids"],
                correct: 2
            },
            {
                question: "Cnidarians have:",
                options: ["A) Radial symmetry", "B) Bilateral symmetry", "C) Asymmetry", "D) Spherical symmetry"],
                correct: 0
            },
            {
                question: "The simplest animals are:",
                options: ["A) Cnidarians", "B) Sponges", "C) Flatworms", "D) Roundworms"],
                correct: 1
            },
            {
                question: "Vertebrates have:",
                options: ["A) Exoskeleton", "B) Endoskeleton", "C) No skeleton", "D) Hydrostatic skeleton"],
                correct: 1
            },

            // Enzymes
            {
                question: "Enzymes are:",
                options: ["A) Carbohydrates", "B) Lipids", "C) Proteins", "D) Nucleic acids"],
                correct: 2
            },
            {
                question: "The substance on which an enzyme acts is called:",
                options: ["A) Product", "B) Substrate", "C) Cofactor", "D) Coenzyme"],
                correct: 1
            },
            {
                question: "The active site of an enzyme:",
                options: ["A) Binds to the substrate", "B) Is where the reaction occurs", "C) Has a specific shape", "D) All of the above"],
                correct: 3
            },
            {
                question: "Enzymes work by:",
                options: ["A) Increasing activation energy", "B) Decreasing activation energy", "C) Providing energy", "D) Consuming energy"],
                correct: 1
            },
            {
                question: "The lock and key model explains:",
                options: ["A) Enzyme specificity", "B) Enzyme structure", "C) Enzyme function", "D) All of the above"],
                correct: 3
            },
            {
                question: "Competitive inhibition occurs when:",
                options: ["A) Inhibitor binds to active site", "B) Inhibitor binds to allosteric site", "C) Enzyme is denatured", "D) Substrate concentration is low"],
                correct: 0
            },
            {
                question: "Enzyme activity is affected by:",
                options: ["A) Temperature", "B) pH", "C) Substrate concentration", "D) All of the above"],
                correct: 3
            },
            {
                question: "Cofactors are:",
                options: ["A) Organic molecules", "B) Inorganic ions", "C) Proteins", "D) Carbohydrates"],
                correct: 1
            },
            {
                question: "Coenzymes are:",
                options: ["A) Inorganic", "B) Organic", "C) Proteins", "D) Lipids"],
                correct: 1
            },
            {
                question: "Allosteric enzymes:",
                options: ["A) Have multiple binding sites", "B) Can be regulated", "C) Change shape when bound", "D) All of the above"],
                correct: 3
            },
            {
                question: "Enzyme denaturation results in:",
                options: ["A) Loss of activity", "B) Change in shape", "C) Breaking of bonds", "D) All of the above"],
                correct: 3
            },
            {
                question: "Feedback inhibition is a form of:",
                options: ["A) Competitive inhibition", "B) Non-competitive inhibition", "C) Allosteric regulation", "D) Enzyme induction"],
                correct: 2
            },
            {
                question: "The optimal pH for pepsin is:",
                options: ["A) 2", "B) 7", "C) 8", "D) 10"],
                correct: 0
            },
            {
                question: "Catalase breaks down:",
                options: ["A) Hydrogen peroxide", "B) Water", "C) Oxygen", "D) Carbon dioxide"],
                correct: 0
            },
            {
                question: "Enzyme kinetics studies:",
                options: ["A) Enzyme structure", "B) Reaction rates", "C) Enzyme synthesis", "D) Enzyme degradation"],
                correct: 1
            },

            // Genetics
            {
                question: "The basic unit of heredity is:",
                options: ["A) Chromosome", "B) Gene", "C) DNA", "D) Protein"],
                correct: 1
            },
            {
                question: "Mendel's first law is the law of:",
                options: ["A) Segregation", "B) Independent assortment", "C) Dominance", "D) Linkage"],
                correct: 0
            },
            {
                question: "A heterozygous individual has:",
                options: ["A) Two identical alleles", "B) Two different alleles", "C) One allele", "D) No alleles"],
                correct: 1
            },
            {
                question: "The physical appearance of an organism is its:",
                options: ["A) Genotype", "B) Phenotype", "C) Karyotype", "D) Genome"],
                correct: 1
            },
            {
                question: "In a monohybrid cross between Aa × Aa, the phenotypic ratio is:",
                options: ["A) 1:1", "B) 1:2:1", "C) 3:1", "D) 9:3:3:1"],
                correct: 2
            },
            {
                question: "Sex-linked traits are carried on:",
                options: ["A) Autosomes", "B) X chromosome", "C) Y chromosome", "D) Both B and C"],
                correct: 3
            },
            {
                question: "Color blindness is:",
                options: ["A) Autosomal dominant", "B) Autosomal recessive", "C) X-linked recessive", "D) Y-linked"],
                correct: 2
            },
            {
                question: "A test cross is performed with:",
                options: ["A) Two heterozygotes", "B) Two homozygotes", "C) Heterozygote and homozygous recessive", "D) Two dominant individuals"],
                correct: 2
            },
            {
                question: "Incomplete dominance results in:",
                options: ["A) Dominant phenotype", "B) Recessive phenotype", "C) Intermediate phenotype", "D) No phenotype"],
                correct: 2
            },
            {
                question: "Multiple alleles are found in:",
                options: ["A) ABO blood groups", "B) Height", "C) Weight", "D) Intelligence"],
                correct: 0
            },
            {
                question: "Polygenic inheritance involves:",
                options: ["A) One gene", "B) Two genes", "C) Multiple genes", "D) No genes"],
                correct: 2
            },
            {
                question: "A mutation is:",
                options: ["A) Change in DNA sequence", "B) Change in protein", "C) Change in phenotype", "D) All of the above"],
                correct: 0
            },
            {
                question: "Down syndrome is caused by:",
                options: ["A) Deletion", "B) Duplication", "C) Trisomy 21", "D) Monosomy"],
                correct: 2
            },
            {
                question: "Genetic counseling helps:",
                options: ["A) Predict genetic disorders", "B) Treat genetic disorders", "C) Prevent genetic disorders", "D) All of the above"],
                correct: 3
            },
            {
                question: "The Human Genome Project revealed that humans have approximately:",
                options: ["A) 20,000-25,000 genes", "B) 50,000 genes", "C) 100,000 genes", "D) 1,000,000 genes"],
                correct: 0
            },

            // The Human Body Systems
            {
                question: "The basic unit of the nervous system is:",
                options: ["A) Neuron", "B) Axon", "C) Dendrite", "D) Synapse"],
                correct: 0
            },
            {
                question: "The heart has how many chambers?",
                options: ["A) 2", "B) 3", "C) 4", "D) 5"],
                correct: 2
            },
            {
                question: "Gas exchange in the lungs occurs in:",
                options: ["A) Bronchi", "B) Bronchioles", "C) Alveoli", "D) Trachea"],
                correct: 2
            },
            {
                question: "The functional unit of the kidney is:",
                options: ["A) Glomerulus", "B) Nephron", "C) Ureter", "D) Bladder"],
                correct: 1
            },
            {
                question: "Insulin is produced by:",
                options: ["A) Liver", "B) Pancreas", "C) Kidney", "D) Adrenal gland"],
                correct: 1
            },
            {
                question: "The largest organ in the human body is:",
                options: ["A) Liver", "B) Brain", "C) Skin", "D) Lungs"],
                correct: 2
            },
            {
                question: "Red blood cells are produced in:",
                options: ["A) Liver", "B) Spleen", "C) Bone marrow", "D) Lymph nodes"],
                correct: 2
            },
            {
                question: "The hormone that regulates blood sugar is:",
                options: ["A) Thyroxine", "B) Insulin", "C) Adrenaline", "D) Growth hormone"],
                correct: 1
            },
            {
                question: "The brain is protected by:",
                options: ["A) Skull", "B) Meninges", "C) Cerebrospinal fluid", "D) All of the above"],
                correct: 3
            },
            {
                question: "Digestion of proteins begins in:",
                options: ["A) Mouth", "B) Stomach", "C) Small intestine", "D) Large intestine"],
                correct: 1
            },
            {
                question: "The pacemaker of the heart is:",
                options: ["A) AV node", "B) SA node", "C) Bundle of His", "D) Purkinje fibers"],
                correct: 1
            },
            {
                question: "Antibodies are produced by:",
                options: ["A) T cells", "B) B cells", "C) Macrophages", "D) Neutrophils"],
                correct: 1
            },
            {
                question: "The hormone that controls metamorphosis is:",
                options: ["A) Insulin", "B) Thyroxine", "C) Adrenaline", "D) Growth hormone"],
                correct: 1
            },
            {
                question: "The blind spot in the eye is where:",
                options: ["A) Lens is located", "B) Optic nerve exits", "C) Pupil is formed", "D) Cornea is attached"],
                correct: 1
            },
            {
                question: "Homeostasis is maintained by:",
                options: ["A) Nervous system", "B) Endocrine system", "C) Both A and B", "D) Immune system"],
                correct: 2
            },

            // Population and Natural Resources
            {
                question: "Population growth rate depends on:",
                options: ["A) Birth rate", "B) Death rate", "C) Migration", "D) All of the above"],
                correct: 3
            },
            {
                question: "Carrying capacity is:",
                options: ["A) Maximum population size", "B) Minimum population size", "C) Average population size", "D) Current population size"],
                correct: 0
            },
            {
                question: "Exponential growth occurs when:",
                options: ["A) Resources are unlimited", "B) Resources are limited", "C) Population is stable", "D) Population is declining"],
                correct: 0
            },
            {
                question: "A renewable resource is:",
                options: ["A) Coal", "B) Oil", "C) Solar energy", "D) Natural gas"],
                correct: 2
            },
            {
                question: "Biodiversity includes:",
                options: ["A) Genetic diversity", "B) Species diversity", "C) Ecosystem diversity", "D) All of the above"],
                correct: 3
            },
            {
                question: "The main cause of species extinction is:",
                options: ["A) Climate change", "B) Habitat destruction", "C) Pollution", "D) Disease"],
                correct: 1
            },
            {
                question: "Sustainable development means:",
                options: ["A) Using resources without limit", "B) Meeting present needs without compromising future", "C) Stopping all development", "D) Using only renewable resources"],
                correct: 1
            },
            {
                question: "The greenhouse effect is caused by:",
                options: ["A) Oxygen", "B) Nitrogen", "C) Carbon dioxide", "D) Hydrogen"],
                correct: 2
            },
            {
                question: "Deforestation leads to:",
                options: ["A) Soil erosion", "B) Loss of biodiversity", "C) Climate change", "D) All of the above"],
                correct: 3
            },
            {
                question: "Conservation strategies include:",
                options: ["A) Protected areas", "B) Captive breeding", "C) Habitat restoration", "D) All of the above"],
                correct: 3
            },
            {
                question: "Overpopulation can lead to:",
                options: ["A) Resource depletion", "B) Environmental degradation", "C) Social problems", "D) All of the above"],
                correct: 3
            },
            {
                question: "The ozone layer protects us from:",
                options: ["A) Visible light", "B) Infrared radiation", "C) Ultraviolet radiation", "D) Radio waves"],
                correct: 2
            },
            {
                question: "Acid rain is caused by:",
                options: ["A) Carbon dioxide", "B) Sulfur dioxide", "C) Oxygen", "D) Nitrogen"],
                correct: 1
            },
            {
                question: "Biological magnification occurs in:",
                options: ["A) Food chains", "B) Food webs", "C) Ecosystems", "D) All of the above"],
                correct: 3
            },
            {
                question: "The most effective way to conserve biodiversity is:",
                options: ["A) Zoos", "B) Botanical gardens", "C) Protected areas", "D) Gene banks"],
                correct: 2
            }
        ];

        // Shuffle function
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function startExam() {
            // Shuffle questions when exam starts
            shuffledQuestions = shuffleArray(originalQuestions);

            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('examInterface').style.display = 'block';
            examStarted = true;

            // Initialize navigation grid
            initializeNavigation();

            // Start timer
            startTimer();

            // Load first question
            loadQuestion(0);
        }

        function initializeNavigation() {
            const navGrid = document.getElementById('navGrid');
            navGrid.innerHTML = '';

            for (let i = 0; i < 100; i++) {
                const btn = document.createElement('button');
                btn.className = 'nav-btn unanswered';
                btn.textContent = i + 1;
                btn.onclick = () => goToQuestion(i);
                navGrid.appendChild(btn);
            }
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();

                if (timeRemaining <= 0) {
                    submitExam();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const hours = Math.floor(timeRemaining / 3600);
            const minutes = Math.floor((timeRemaining % 3600) / 60);
            const seconds = timeRemaining % 60;

            document.getElementById('timer').textContent =
                `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function loadQuestion(index) {
            currentQuestion = index;
            const question = shuffledQuestions[index];

            document.getElementById('questionNumber').textContent = `Question ${index + 1}`;
            document.getElementById('questionText').innerHTML = question.question;
            document.getElementById('currentQ').textContent = index + 1;

            // Load options
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';

            question.options.forEach((option, i) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';

                // Check if we're in review mode (results have been calculated)
                const inReviewMode = document.getElementById('results').style.display === 'none' &&
                    document.getElementById('examInterface').style.display === 'block' &&
                    Object.keys(answers).length > 0 &&
                    document.getElementById('scoreDisplay').textContent !== '';

                if (inReviewMode) {
                    // In review mode, show correct and incorrect answers
                    if (i === question.correct) {
                        optionDiv.classList.add('correct-answer');
                    }
                    if (answers[index] === i && i !== question.correct) {
                        optionDiv.classList.add('wrong-answer');
                    }
                    if (answers[index] === i) {
                        optionDiv.classList.add('selected');
                    }
                } else {
                    // Normal exam mode
                    if (answers[index] === i) {
                        optionDiv.classList.add('selected');
                    }
                }

                optionDiv.innerHTML = `
                    <input type="radio" name="question${index}" value="${i}" ${answers[index] === i ? 'checked' : ''} ${inReviewMode ? 'disabled' : ''}>
                    ${option}
                `;

                if (!inReviewMode) {
                    optionDiv.onclick = () => selectAnswer(index, i);
                }
                optionsContainer.appendChild(optionDiv);
            });

            // Update navigation
            updateNavigation();

            // Update flag button
            const flagBtn = document.getElementById('flagBtn');
            flagBtn.textContent = flaggedQuestions.has(index) ? '🚩 Unflag' : '🚩 Flag';

            // Update prev/next buttons
            document.getElementById('prevBtn').disabled = index === 0;
            document.getElementById('nextBtn').disabled = index === 99;
        }

        function selectAnswer(questionIndex, answerIndex) {
            answers[questionIndex] = answerIndex;

            // Update option display
            const options = document.querySelectorAll('.option');
            options.forEach((option, i) => {
                option.classList.toggle('selected', i === answerIndex);
                const radio = option.querySelector('input[type="radio"]');
                radio.checked = i === answerIndex;
            });

            updateNavigation();
            updateAnsweredCount();
        }

        function updateNavigation() {
            const navButtons = document.querySelectorAll('.nav-btn');
            navButtons.forEach((btn, i) => {
                btn.className = 'nav-btn';

                if (i === currentQuestion) {
                    btn.classList.add('current');
                } else if (flaggedQuestions.has(i)) {
                    btn.classList.add('flagged');
                } else if (answers.hasOwnProperty(i)) {
                    btn.classList.add('answered');
                } else {
                    btn.classList.add('unanswered');
                }
            });
        }

        function updateAnsweredCount() {
            const answeredCount = Object.keys(answers).length;
            document.getElementById('answered').textContent = `${answeredCount} / 100`;
        }

        function toggleFlag() {
            if (flaggedQuestions.has(currentQuestion)) {
                flaggedQuestions.delete(currentQuestion);
            } else {
                flaggedQuestions.add(currentQuestion);
            }

            document.getElementById('flagged').textContent = flaggedQuestions.size;
            document.getElementById('flagBtn').textContent =
                flaggedQuestions.has(currentQuestion) ? '🚩 Unflag' : '🚩 Flag';

            updateNavigation();
        }

        function goToQuestion(index) {
            loadQuestion(index);
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                loadQuestion(currentQuestion - 1);
            }
        }

        function nextQuestion() {
            if (currentQuestion < 99) {
                loadQuestion(currentQuestion + 1);
            }
        }

        function submitExam() {
            if (confirm('Are you sure you want to submit your exam? This action cannot be undone.')) {
                clearInterval(timerInterval);
                calculateResults();
            }
        }

        function calculateResults() {
            let correctAnswers = 0;

            for (let i = 0; i < shuffledQuestions.length; i++) {
                if (answers[i] === shuffledQuestions[i].correct) {
                    correctAnswers++;
                }
            }

            const percentage = (correctAnswers / shuffledQuestions.length) * 100;
            let grade;

            if (percentage >= 90) grade = 'A (Excellent)';
            else if (percentage >= 80) grade = 'B (Very Good)';
            else if (percentage >= 70) grade = 'C (Good)';
            else if (percentage >= 60) grade = 'D (Satisfactory)';
            else grade = 'F (Fail)';

            document.getElementById('examInterface').style.display = 'none';
            document.getElementById('results').style.display = 'block';
            document.getElementById('scoreDisplay').textContent = `${correctAnswers}/100 (${percentage.toFixed(1)}%)`;
            document.getElementById('gradeDisplay').textContent = `Grade: ${grade}`;
        }

        function reviewAnswers() {
            document.getElementById('results').style.display = 'none';
            document.getElementById('examInterface').style.display = 'block';

            // Disable submit button and navigation in review mode
            document.querySelector('.btn-success').style.display = 'none';

            // Add a "Back to Results" button
            const backBtn = document.createElement('button');
            backBtn.className = 'btn btn-secondary';
            backBtn.textContent = 'Back to Results';
            backBtn.onclick = () => {
                document.getElementById('examInterface').style.display = 'none';
                document.getElementById('results').style.display = 'block';
                document.querySelector('.btn-success').style.display = 'inline-block';
                backBtn.remove();
            };
            document.querySelector('.controls').appendChild(backBtn);

            loadQuestion(0);
        }

        function restartExam() {
            currentQuestion = 0;
            answers = {};
            flaggedQuestions.clear();
            timeRemaining = 180 * 60;
            shuffledQuestions = [];

            document.getElementById('results').style.display = 'none';
            document.getElementById('startScreen').style.display = 'block';
        }

        // Initialize timer display
        updateTimerDisplay();
    </script>
</body>

</html>